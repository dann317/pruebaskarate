{"failedCount":1,"prefixedPath":"src\/test\/java\/utils\/test_db_connection.feature.feature","packageQualifiedName":"src.test.java.utils.test_db_connection.feature","loopIndex":-1,"relativePath":"src\/test\/java\/utils\/test_db_connection.feature.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":54961400,"millis":54.9614,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def config = { username: 'cnxapolq', password: 'jnk1hHklW8h#D7b', url: 'jdbc:postgresql:\/\/aw0360010-apolo-qa-id.c1ldabd6xbtl.us-east-1.rds.amazonaws.com:50000\/apoloqcd', driverClassName: 'org.postgresql.Driver' }"},"stepLog":"08:24:43.941 karate.env system property was: null \n"},{"result":{"nanos":12261700,"millis":12.2617,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def DbUtils = Java.type('utils.DbUtils')"}},{"result":{"nanos":52665700,"millis":52.6657,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def db = new DbUtils(config)"}},{"result":{"nanos":10292441400,"errorMessage":">>>> js failed:\n01: db.readRows(\"SELECT * FROM schproducts.view_newness_third_product where company_id='2020092901'\")\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: El intento de conexión falló.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- utils.DbUtils.readRows(DbUtils.java:42)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/utils\/test_db_connection.feature.feature:9","millis":10292.4414,"status":"failed"},"step":{"line":9,"prefix":"*","index":0,"text":"def query = db.readRows(\"SELECT * FROM schproducts.view_newness_third_product where company_id='2020092901'\")"},"stepLog":"08:24:54.757 src\/test\/java\/utils\/test_db_connection.feature.feature:9\n* def query = db.readRows(\"SELECT * FROM schproducts.view_newness_third_product where company_id='2020092901'\")\n>>>> js failed:\n01: db.readRows(\"SELECT * FROM schproducts.view_newness_third_product where company_id='2020092901'\")\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: El intento de conexión falló.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- utils.DbUtils.readRows(DbUtils.java:42)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/utils\/test_db_connection.feature.feature:9\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":10,"prefix":"Then","index":1,"text":"print \"El resultado de la consulta: \",query"}}],"line":8,"description":"","durationMillis":10412.3302,"failed":true,"error":">>>> js failed:\n01: db.readRows(\"SELECT * FROM schproducts.view_newness_third_product where company_id='2020092901'\")\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: El intento de conexión falló.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- utils.DbUtils.readRows(DbUtils.java:42)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/utils\/test_db_connection.feature.feature:9","executorName":"main","name":"","startTime":1632489883746,"refId":"[1:8]","endTime":1632489894757,"exampleIndex":-1}],"callDepth":0,"name":"test the connection to databases","description":"","resultDate":"2021-09-24 08:24:54 a. m.","durationMillis":10412.3302,"passedCount":0}